{"ast":null,"code":"import _extends from\"@babel/runtime/helpers/esm/extends\";import _objectWithoutPropertiesLoose from\"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";var _excluded=[\"actions\",\"autoFocus\",\"autoFocusItem\",\"children\",\"className\",\"disabledItemsFocusable\",\"disableListWrap\",\"onKeyDown\",\"variant\"];import*as React from'react';import{isFragment}from'react-is';import ownerDocument from'../utils/ownerDocument';import List from'../List';import getScrollbarSize from'../utils/getScrollbarSize';import useForkRef from'../utils/useForkRef';import useEnhancedEffect from'../utils/useEnhancedEffect';import{jsx as _jsx}from\"react/jsx-runtime\";function nextItem(list,item,disableListWrap){if(list===item){return list.firstChild;}if(item&&item.nextElementSibling){return item.nextElementSibling;}return disableListWrap?null:list.firstChild;}function previousItem(list,item,disableListWrap){if(list===item){return disableListWrap?list.firstChild:list.lastChild;}if(item&&item.previousElementSibling){return item.previousElementSibling;}return disableListWrap?null:list.lastChild;}function textCriteriaMatches(nextFocus,textCriteria){if(textCriteria===undefined){return true;}var text=nextFocus.innerText;if(text===undefined){// jsdom doesn't support innerText\ntext=nextFocus.textContent;}text=text.trim().toLowerCase();if(text.length===0){return false;}if(textCriteria.repeating){return text[0]===textCriteria.keys[0];}return text.indexOf(textCriteria.keys.join(''))===0;}function moveFocus(list,currentFocus,disableListWrap,disabledItemsFocusable,traversalFunction,textCriteria){var wrappedOnce=false;var nextFocus=traversalFunction(list,currentFocus,currentFocus?disableListWrap:false);while(nextFocus){// Prevent infinite loop.\nif(nextFocus===list.firstChild){if(wrappedOnce){return false;}wrappedOnce=true;}// Same logic as useAutocomplete.js\nvar nextFocusDisabled=disabledItemsFocusable?false:nextFocus.disabled||nextFocus.getAttribute('aria-disabled')==='true';if(!nextFocus.hasAttribute('tabindex')||!textCriteriaMatches(nextFocus,textCriteria)||nextFocusDisabled){// Move to the next element.\nnextFocus=traversalFunction(list,nextFocus,disableListWrap);}else{nextFocus.focus();return true;}}return false;}/**\n * A permanently displayed menu following https://www.w3.org/TR/wai-aria-practices/#menubutton.\n * It's exposed to help customization of the [`Menu`](/material-ui/api/menu/) component if you\n * use it separately you need to move focus into the component manually. Once\n * the focus is placed inside the component it is fully keyboard accessible.\n */var MenuList=/*#__PURE__*/React.forwardRef(function MenuList(props,ref){var actions=props.actions,_props$autoFocus=props.autoFocus,autoFocus=_props$autoFocus===void 0?false:_props$autoFocus,_props$autoFocusItem=props.autoFocusItem,autoFocusItem=_props$autoFocusItem===void 0?false:_props$autoFocusItem,children=props.children,className=props.className,_props$disabledItemsF=props.disabledItemsFocusable,disabledItemsFocusable=_props$disabledItemsF===void 0?false:_props$disabledItemsF,_props$disableListWra=props.disableListWrap,disableListWrap=_props$disableListWra===void 0?false:_props$disableListWra,onKeyDown=props.onKeyDown,_props$variant=props.variant,variant=_props$variant===void 0?'selectedMenu':_props$variant,other=_objectWithoutPropertiesLoose(props,_excluded);var listRef=React.useRef(null);var textCriteriaRef=React.useRef({keys:[],repeating:true,previousKeyMatched:true,lastTime:null});useEnhancedEffect(function(){if(autoFocus){listRef.current.focus();}},[autoFocus]);React.useImperativeHandle(actions,function(){return{adjustStyleForScrollbar:function adjustStyleForScrollbar(containerElement,theme){// Let's ignore that piece of logic if users are already overriding the width\n// of the menu.\nvar noExplicitWidth=!listRef.current.style.width;if(containerElement.clientHeight<listRef.current.clientHeight&&noExplicitWidth){var scrollbarSize=\"\".concat(getScrollbarSize(ownerDocument(containerElement)),\"px\");listRef.current.style[theme.direction==='rtl'?'paddingLeft':'paddingRight']=scrollbarSize;listRef.current.style.width=\"calc(100% + \".concat(scrollbarSize,\")\");}return listRef.current;}};},[]);var handleKeyDown=function handleKeyDown(event){var list=listRef.current;var key=event.key;/**\n     * @type {Element} - will always be defined since we are in a keydown handler\n     * attached to an element. A keydown event is either dispatched to the activeElement\n     * or document.body or document.documentElement. Only the first case will\n     * trigger this specific handler.\n     */var currentFocus=ownerDocument(list).activeElement;if(key==='ArrowDown'){// Prevent scroll of the page\nevent.preventDefault();moveFocus(list,currentFocus,disableListWrap,disabledItemsFocusable,nextItem);}else if(key==='ArrowUp'){event.preventDefault();moveFocus(list,currentFocus,disableListWrap,disabledItemsFocusable,previousItem);}else if(key==='Home'){event.preventDefault();moveFocus(list,null,disableListWrap,disabledItemsFocusable,nextItem);}else if(key==='End'){event.preventDefault();moveFocus(list,null,disableListWrap,disabledItemsFocusable,previousItem);}else if(key.length===1){var criteria=textCriteriaRef.current;var lowerKey=key.toLowerCase();var currTime=performance.now();if(criteria.keys.length>0){// Reset\nif(currTime-criteria.lastTime>500){criteria.keys=[];criteria.repeating=true;criteria.previousKeyMatched=true;}else if(criteria.repeating&&lowerKey!==criteria.keys[0]){criteria.repeating=false;}}criteria.lastTime=currTime;criteria.keys.push(lowerKey);var keepFocusOnCurrent=currentFocus&&!criteria.repeating&&textCriteriaMatches(currentFocus,criteria);if(criteria.previousKeyMatched&&(keepFocusOnCurrent||moveFocus(list,currentFocus,false,disabledItemsFocusable,nextItem,criteria))){event.preventDefault();}else{criteria.previousKeyMatched=false;}}if(onKeyDown){onKeyDown(event);}};var handleRef=useForkRef(listRef,ref);/**\n   * the index of the item should receive focus\n   * in a `variant=\"selectedMenu\"` it's the first `selected` item\n   * otherwise it's the very first item.\n   */var activeItemIndex=-1;// since we inject focus related props into children we have to do a lookahead\n// to check if there is a `selected` item. We're looking for the last `selected`\n// item and use the first valid item as a fallback\nReact.Children.forEach(children,function(child,index){if(!/*#__PURE__*/React.isValidElement(child)){return;}if(process.env.NODE_ENV!=='production'){if(isFragment(child)){console.error([\"MUI: The Menu component doesn't accept a Fragment as a child.\",'Consider providing an array instead.'].join('\\n'));}}if(!child.props.disabled){if(variant==='selectedMenu'&&child.props.selected){activeItemIndex=index;}else if(activeItemIndex===-1){activeItemIndex=index;}}});var items=React.Children.map(children,function(child,index){if(index===activeItemIndex){var newChildProps={};if(autoFocusItem){newChildProps.autoFocus=true;}if(child.props.tabIndex===undefined&&variant==='selectedMenu'){newChildProps.tabIndex=0;}return/*#__PURE__*/React.cloneElement(child,newChildProps);}return child;});return/*#__PURE__*/_jsx(List,_extends({role:\"menu\",ref:handleRef,className:className,onKeyDown:handleKeyDown,tabIndex:autoFocus?0:-1},other,{children:items}));});process.env.NODE_ENV!==\"production\"?void 0:void 0;export default MenuList;","map":{"version":3,"sources":["/Users/Sintez/WebstormProjects/todolist-react/src/node_modules/@mui/material/MenuList/MenuList.js"],"names":["_extends","_objectWithoutPropertiesLoose","_excluded","React","isFragment","ownerDocument","List","getScrollbarSize","useForkRef","useEnhancedEffect","jsx","_jsx","nextItem","list","item","disableListWrap","firstChild","nextElementSibling","previousItem","lastChild","previousElementSibling","textCriteriaMatches","nextFocus","textCriteria","undefined","text","innerText","textContent","trim","toLowerCase","length","repeating","keys","indexOf","join","moveFocus","currentFocus","disabledItemsFocusable","traversalFunction","wrappedOnce","nextFocusDisabled","disabled","getAttribute","hasAttribute","focus","MenuList","forwardRef","props","ref","actions","autoFocus","autoFocusItem","children","className","onKeyDown","variant","other","listRef","useRef","textCriteriaRef","previousKeyMatched","lastTime","current","useImperativeHandle","adjustStyleForScrollbar","containerElement","theme","noExplicitWidth","style","width","clientHeight","scrollbarSize","direction","handleKeyDown","event","key","activeElement","preventDefault","criteria","lowerKey","currTime","performance","now","push","keepFocusOnCurrent","handleRef","activeItemIndex","Children","forEach","child","index","isValidElement","process","env","NODE_ENV","console","error","selected","items","map","newChildProps","tabIndex","cloneElement","role"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"actions\", \"autoFocus\", \"autoFocusItem\", \"children\", \"className\", \"disabledItemsFocusable\", \"disableListWrap\", \"onKeyDown\", \"variant\"];\nimport * as React from 'react';\nimport { isFragment } from 'react-is';\nimport PropTypes from 'prop-types';\nimport ownerDocument from '../utils/ownerDocument';\nimport List from '../List';\nimport getScrollbarSize from '../utils/getScrollbarSize';\nimport useForkRef from '../utils/useForkRef';\nimport useEnhancedEffect from '../utils/useEnhancedEffect';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction nextItem(list, item, disableListWrap) {\n  if (list === item) {\n    return list.firstChild;\n  }\n\n  if (item && item.nextElementSibling) {\n    return item.nextElementSibling;\n  }\n\n  return disableListWrap ? null : list.firstChild;\n}\n\nfunction previousItem(list, item, disableListWrap) {\n  if (list === item) {\n    return disableListWrap ? list.firstChild : list.lastChild;\n  }\n\n  if (item && item.previousElementSibling) {\n    return item.previousElementSibling;\n  }\n\n  return disableListWrap ? null : list.lastChild;\n}\n\nfunction textCriteriaMatches(nextFocus, textCriteria) {\n  if (textCriteria === undefined) {\n    return true;\n  }\n\n  let text = nextFocus.innerText;\n\n  if (text === undefined) {\n    // jsdom doesn't support innerText\n    text = nextFocus.textContent;\n  }\n\n  text = text.trim().toLowerCase();\n\n  if (text.length === 0) {\n    return false;\n  }\n\n  if (textCriteria.repeating) {\n    return text[0] === textCriteria.keys[0];\n  }\n\n  return text.indexOf(textCriteria.keys.join('')) === 0;\n}\n\nfunction moveFocus(list, currentFocus, disableListWrap, disabledItemsFocusable, traversalFunction, textCriteria) {\n  let wrappedOnce = false;\n  let nextFocus = traversalFunction(list, currentFocus, currentFocus ? disableListWrap : false);\n\n  while (nextFocus) {\n    // Prevent infinite loop.\n    if (nextFocus === list.firstChild) {\n      if (wrappedOnce) {\n        return false;\n      }\n\n      wrappedOnce = true;\n    } // Same logic as useAutocomplete.js\n\n\n    const nextFocusDisabled = disabledItemsFocusable ? false : nextFocus.disabled || nextFocus.getAttribute('aria-disabled') === 'true';\n\n    if (!nextFocus.hasAttribute('tabindex') || !textCriteriaMatches(nextFocus, textCriteria) || nextFocusDisabled) {\n      // Move to the next element.\n      nextFocus = traversalFunction(list, nextFocus, disableListWrap);\n    } else {\n      nextFocus.focus();\n      return true;\n    }\n  }\n\n  return false;\n}\n/**\n * A permanently displayed menu following https://www.w3.org/TR/wai-aria-practices/#menubutton.\n * It's exposed to help customization of the [`Menu`](/material-ui/api/menu/) component if you\n * use it separately you need to move focus into the component manually. Once\n * the focus is placed inside the component it is fully keyboard accessible.\n */\n\n\nconst MenuList = /*#__PURE__*/React.forwardRef(function MenuList(props, ref) {\n  const {\n    // private\n    // eslint-disable-next-line react/prop-types\n    actions,\n    autoFocus = false,\n    autoFocusItem = false,\n    children,\n    className,\n    disabledItemsFocusable = false,\n    disableListWrap = false,\n    onKeyDown,\n    variant = 'selectedMenu'\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const listRef = React.useRef(null);\n  const textCriteriaRef = React.useRef({\n    keys: [],\n    repeating: true,\n    previousKeyMatched: true,\n    lastTime: null\n  });\n  useEnhancedEffect(() => {\n    if (autoFocus) {\n      listRef.current.focus();\n    }\n  }, [autoFocus]);\n  React.useImperativeHandle(actions, () => ({\n    adjustStyleForScrollbar: (containerElement, theme) => {\n      // Let's ignore that piece of logic if users are already overriding the width\n      // of the menu.\n      const noExplicitWidth = !listRef.current.style.width;\n\n      if (containerElement.clientHeight < listRef.current.clientHeight && noExplicitWidth) {\n        const scrollbarSize = `${getScrollbarSize(ownerDocument(containerElement))}px`;\n        listRef.current.style[theme.direction === 'rtl' ? 'paddingLeft' : 'paddingRight'] = scrollbarSize;\n        listRef.current.style.width = `calc(100% + ${scrollbarSize})`;\n      }\n\n      return listRef.current;\n    }\n  }), []);\n\n  const handleKeyDown = event => {\n    const list = listRef.current;\n    const key = event.key;\n    /**\n     * @type {Element} - will always be defined since we are in a keydown handler\n     * attached to an element. A keydown event is either dispatched to the activeElement\n     * or document.body or document.documentElement. Only the first case will\n     * trigger this specific handler.\n     */\n\n    const currentFocus = ownerDocument(list).activeElement;\n\n    if (key === 'ArrowDown') {\n      // Prevent scroll of the page\n      event.preventDefault();\n      moveFocus(list, currentFocus, disableListWrap, disabledItemsFocusable, nextItem);\n    } else if (key === 'ArrowUp') {\n      event.preventDefault();\n      moveFocus(list, currentFocus, disableListWrap, disabledItemsFocusable, previousItem);\n    } else if (key === 'Home') {\n      event.preventDefault();\n      moveFocus(list, null, disableListWrap, disabledItemsFocusable, nextItem);\n    } else if (key === 'End') {\n      event.preventDefault();\n      moveFocus(list, null, disableListWrap, disabledItemsFocusable, previousItem);\n    } else if (key.length === 1) {\n      const criteria = textCriteriaRef.current;\n      const lowerKey = key.toLowerCase();\n      const currTime = performance.now();\n\n      if (criteria.keys.length > 0) {\n        // Reset\n        if (currTime - criteria.lastTime > 500) {\n          criteria.keys = [];\n          criteria.repeating = true;\n          criteria.previousKeyMatched = true;\n        } else if (criteria.repeating && lowerKey !== criteria.keys[0]) {\n          criteria.repeating = false;\n        }\n      }\n\n      criteria.lastTime = currTime;\n      criteria.keys.push(lowerKey);\n      const keepFocusOnCurrent = currentFocus && !criteria.repeating && textCriteriaMatches(currentFocus, criteria);\n\n      if (criteria.previousKeyMatched && (keepFocusOnCurrent || moveFocus(list, currentFocus, false, disabledItemsFocusable, nextItem, criteria))) {\n        event.preventDefault();\n      } else {\n        criteria.previousKeyMatched = false;\n      }\n    }\n\n    if (onKeyDown) {\n      onKeyDown(event);\n    }\n  };\n\n  const handleRef = useForkRef(listRef, ref);\n  /**\n   * the index of the item should receive focus\n   * in a `variant=\"selectedMenu\"` it's the first `selected` item\n   * otherwise it's the very first item.\n   */\n\n  let activeItemIndex = -1; // since we inject focus related props into children we have to do a lookahead\n  // to check if there is a `selected` item. We're looking for the last `selected`\n  // item and use the first valid item as a fallback\n\n  React.Children.forEach(children, (child, index) => {\n    if (! /*#__PURE__*/React.isValidElement(child)) {\n      return;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (isFragment(child)) {\n        console.error([\"MUI: The Menu component doesn't accept a Fragment as a child.\", 'Consider providing an array instead.'].join('\\n'));\n      }\n    }\n\n    if (!child.props.disabled) {\n      if (variant === 'selectedMenu' && child.props.selected) {\n        activeItemIndex = index;\n      } else if (activeItemIndex === -1) {\n        activeItemIndex = index;\n      }\n    }\n  });\n  const items = React.Children.map(children, (child, index) => {\n    if (index === activeItemIndex) {\n      const newChildProps = {};\n\n      if (autoFocusItem) {\n        newChildProps.autoFocus = true;\n      }\n\n      if (child.props.tabIndex === undefined && variant === 'selectedMenu') {\n        newChildProps.tabIndex = 0;\n      }\n\n      return /*#__PURE__*/React.cloneElement(child, newChildProps);\n    }\n\n    return child;\n  });\n  return /*#__PURE__*/_jsx(List, _extends({\n    role: \"menu\",\n    ref: handleRef,\n    className: className,\n    onKeyDown: handleKeyDown,\n    tabIndex: autoFocus ? 0 : -1\n  }, other, {\n    children: items\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? MenuList.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * If `true`, will focus the `[role=\"menu\"]` container and move into tab order.\n   * @default false\n   */\n  autoFocus: PropTypes.bool,\n\n  /**\n   * If `true`, will focus the first menuitem if `variant=\"menu\"` or selected item\n   * if `variant=\"selectedMenu\"`.\n   * @default false\n   */\n  autoFocusItem: PropTypes.bool,\n\n  /**\n   * MenuList contents, normally `MenuItem`s.\n   */\n  children: PropTypes.node,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, will allow focus on disabled items.\n   * @default false\n   */\n  disabledItemsFocusable: PropTypes.bool,\n\n  /**\n   * If `true`, the menu items will not wrap focus.\n   * @default false\n   */\n  disableListWrap: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  onKeyDown: PropTypes.func,\n\n  /**\n   * The variant to use. Use `menu` to prevent selected items from impacting the initial focus\n   * and the vertical alignment relative to the anchor element.\n   * @default 'selectedMenu'\n   */\n  variant: PropTypes.oneOf(['menu', 'selectedMenu'])\n} : void 0;\nexport default MenuList;"]},"metadata":{},"sourceType":"module"}